# LMS-for-UDV
Пока тут будет информация по конфигурации, запуску приложения и по правилам работы с гит.

## Перед первым запуском
Действия в этом разделе только для Windows.
### Установка wsl
`wsl --install`

При вводе этой команды скачаются все необходимые фалы и после перезагрузки компьютера установится Ubuntu. Если wsl уже есть то этот раздел можно пропускать.

Когда придумываете пароль в Ubuntu, делайте его несложным, так как придётся его часто вводить.

### Установка докера
Заходим в Ubuntu (можно найти на начальном экране или в поиске)).
Там вводим следующие команды:
* `curl -fsSL https://get.docker.com -o get-docker.sh`
* `sh get-docker.sh`

Если начнёт ругаться на wsl, всё равно продолжаем установку.

## КАк запускать проект?
Перед началом рабботы нужно запустить Postgres. Он у нас запускается из docker образа.
В windows можно просто нажать на файл `external_training\start_docker_compose.bat`. Тогда запустится сам Postgres и ещё pgAdmin. 

pgAdmin назодится по адресу http://localhost:5050

Потом нужно применить миграции к бд. 
ДЛя этого запускаем файл `external_training\apply_migrations.bat` (только для windows).

Если будет ругаться, счто dotnet ef не найден, нужно в консоли выполнить команду `dotnet tool install --global dotnet-ef` и опять выполнить миграцию.

Ура! теперь можно из IDE запускать проект, и всё должно работать.

## Правила работы с репозиторием
1. Для каждой задачи создаём отдельную ветку
2. Название ветки - короткое описание задачи, которая решается в ней. Пример: "creating-database-models".
3. При  пуше в мастер после решения всех конфликтов пробуем собрать и запустить проет. Посмотреть, что ничего не сломалось.

### Как пушить в мастер?
1. Выполняем `git pull --rebase origin master` в ветке, которую нужно запушить в мастер.
2. Исправляем конфликты, если они есть.
3. `git checkout main` переходим в main.
4. `git pull`
5. `git merge --no-ff <название ветки>`
6. `git push`